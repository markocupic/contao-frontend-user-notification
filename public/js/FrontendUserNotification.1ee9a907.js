class FrontendUserNotification{constructor(t,s){const{createApp:e}=Vue,o=e({data(){return{req:0,intervalId:null,items:[],ids:[]}},mounted(){window.setTimeout((()=>{this.loadItems()}),1e3),this.intervalId=window.setInterval((async()=>{this.loadItems()}),15e3)},methods:{loadItems:async function(s=!1){const e=await fetch("_frontend_user_notification/get");if(!e.ok)throw new Error(`Response status: ${e.status}`);const o=await e.json();if(!1===s&&this.req++,!1===s&&this.req>15&&window.clearInterval(this.intervalId),"success"===o.status){await this.$nextTick(),this.items=o.data,await this.$nextTick();const s=document.querySelectorAll(`${t} .toast`);for(const t of s){const s=new bootstrap.Toast(t);s.isShown()||s.show()}}},tagAsRead:async function(t){await fetch(`_frontend_user_notification/tag_as_read/${t}`);await this.loadItems(!0)}}});o.config.compilerOptions.delimiters=["[[","]]"],o.mount(t)}}